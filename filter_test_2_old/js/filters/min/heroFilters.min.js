angular.module("hero.filters",["heroApp.models.filters"]).filter("heroesFilter",function(e){return heroesFilter=this,heroesFilter.toggleSelection=e.toggleSelection,function(e,l){var o=[];return angular.forEach(e,function(e){var r=l.query.toLowerCase(),n=e.name.toLowerCase(l.query),t=""==r||n.indexOf(r)>-1,s=0,a=0,i=[],u=[];angular.forEach(l.tags,function(l){if(l.selected){s+=1,u.push(l.label);var r=i.indexOf(l.label);r>-1?i.splice(r,1):i.push(l.label);var n=i.length,t=e[l.key],a=(t.toString(),_.values(e)),g=_.flatten(a);console.log(i),console.log(n);var c=_.intersection(g,i);if(c.length===n)console.log(e.name),o.push(e);else if(c.length<n)return console.log("no results"),!1}});var g=0==s||a>0;g&&t&&o.push(e)}),o}});